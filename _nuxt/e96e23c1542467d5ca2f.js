(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{152:function(t,e,n){var content=n(159);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(37).default)("6759f5ab",content,!0,{sourceMap:!1})},153:function(t,e,n){"use strict";var r=n(3),o=n(13),l=n(19),c=n(101),d=n(53),h=n(9),f=n(35).f,v=n(54).f,C=n(7).f,m=n(154).trim,y=r.Number,x=y,w=y.prototype,k="Number"==l(n(72)(w)),S="trim"in String.prototype,E=function(t){var e=d(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,l=(e=S?e.trim():m(e,3)).charCodeAt(0);if(43===l||45===l){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===l){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var code,c=e.slice(2),i=0,h=c.length;i<h;i++)if((code=c.charCodeAt(i))<48||code>o)return NaN;return parseInt(c,r)}}return+e};if(!y(" 0o1")||!y("0b1")||y("+0x1")){y=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof y&&(k?h((function(){w.valueOf.call(n)})):"Number"!=l(n))?c(new x(E(e)),n,y):E(e)};for(var P,N=n(6)?f(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;N.length>I;I++)o(x,P=N[I])&&!o(y,P)&&C(y,P,v(x,P));y.prototype=w,w.constructor=y,n(10)(r,"Number",y)}},154:function(t,e,n){var r=n(5),o=n(18),l=n(9),c=n(155),d="["+c+"]",h=RegExp("^"+d+d+"*"),f=RegExp(d+d+"*$"),v=function(t,e,n){var o={},d=l((function(){return!!c[t]()||"​"!="​"[t]()})),h=o[t]=d?e(C):c[t];n&&(o[n]=h),r(r.P+r.F*d,"String",o)},C=v.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(h,"")),2&e&&(t=t.replace(f,"")),t};t.exports=v},155:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},156:function(t,e,n){var r=n(5);r(r.P,"Array",{fill:n(157)}),n(73)("fill")},157:function(t,e,n){"use strict";var r=n(26),o=n(100),l=n(20);t.exports=function(t){for(var e=r(this),n=l(e.length),c=arguments.length,d=o(c>1?arguments[1]:void 0,n),h=c>2?arguments[2]:void 0,f=void 0===h?n:o(h,n);f>d;)e[d++]=t;return e}},158:function(t,e,n){"use strict";var r=n(152);n.n(r).a},159:function(t,e,n){(t.exports=n(36)(!1)).push([t.i,".app{font-family:Rubik,sans-serif;height:100vh}",""])},160:function(t,e,n){"use strict";n.r(e);var r=n(56),o={props:{disabled:{type:Boolean}}},l=n(17),c={components:{MinimalButton:Object(l.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("button",this._g({staticClass:"h-full mx-1 px-1 bg-transparent text-white font-bold border border-transparent rounded appearance-none active:underline focus:outline-none",attrs:{disabled:this.disabled}},this.$listeners),[this._t("default")],2)}),[],!1,null,null,null).exports},data:function(){var t=this;return{navigationItems:[{id:"PLAY",text:"Play",displayCondition:function(){return"PLAY"!==t.gridMode},action:function(){t.setGridMode("PLAY"),t.emitGridEvent("PLAY")}},{id:"PAUSE",text:"Pause",displayCondition:function(){return"PLAY"===t.gridMode},action:function(){return t.setGridMode("PAUSE")}},{id:"RANDOM",text:"Random",displayCondition:function(){return!0},action:function(){return t.emitGridEvent("RANDOM")}},{id:"EDIT",text:"Edit",displayCondition:function(){return!0},action:function(){"EDIT"===t.gridMode?t.setGridMode("PAUSE"):t.setGridMode("EDIT")}},{id:"CLEAR",text:"Clear",displayCondition:function(){return!0},action:function(){return t.emitGridEvent("CLEAR")}}]}},computed:Object(r.b)({gridMode:"gridMode/get"}),methods:{setGridMode:function(t){this.$store.commit("gridMode/set",t)},emitGridEvent:function(t){this.$bus.$emit("gridEvent",t)},actionShouldBeDisabled:function(t){return"PLAY"===this.gridMode&&"PAUSE"!==t},actionShouldBeUnderlined:function(t){return"EDIT"===t&&"EDIT"===this.gridMode}}},d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full h-12 flex-shrink-0 px-6 flex flex-wrap items-center justify-between bg-black select-none"},[t._m(0),t._v(" "),n("div",{staticClass:"h-full my-auto py-1 text-xl",attrs:{id:"controls"}},t._l(t.navigationItems,(function(e){return e.displayCondition()?n("minimal-button",{key:e.id,class:{"opacity-50 cursor-not-allowed":t.actionShouldBeDisabled(e.id),underline:t.actionShouldBeUnderlined(e.id)},attrs:{disabled:t.actionShouldBeDisabled(e.id)},on:{click:e.action}},[t._v(t._s(e.text))]):t._e()})),1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"text-white font-extrabold text-3xl"},[this._v("Game of Life")])])}],!1,null,null,null).exports,h=(n(74),n(27),n(21),n(14),n(55),n(48));n(153);function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function C(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}n(156);var m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.x=e,this.y=n}return C(t,[{key:"add",value:function(e){return new t(this.x+e,this.y+e)}},{key:"mul",value:function(e){return new t(this.x*e,this.y*e)}}]),t}();function y(t,e,n){return Math.floor((n+e)/(t+e))}function x(t,e,n){return n*t+(n-1)*e}var w=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;f(this,t),this.animationTime=n,this.timeProgress=0,this.keyFrames=e,this.done=!1}return C(t,[{key:"calculateSize",value:function(t,e){this.timeProgress+=t,this.timeProgress>this.animationTime&&(this.done=!0);var n=this.timeProgress/this.animationTime*100,r=this._getKeyFrameRangeToApply(n);if(!r)return e;var base,o,l,c=this._getRelativeDistanceInRange(r[0].keyFrame,r[1].keyFrame,n),d=(base=r[0].value,o=r[1].value,l=c,(base+Math.max(Math.min(l,1),0)*(o-base))/100);return e.mul(d)}},{key:"_getKeyFrameRangeToApply",value:function(t){var e=this;if(!(t<0||t>100)){var n=void 0,r=void 0;return this._forEachObjectProperty(this.keyFrames,(function(o,l){void 0!==n&&e._lastKeyFramePairContainsCurrentKeyFrame(n.keyFrame,o,t)&&(r={0:n,1:{keyFrame:o,value:l}}),n={keyFrame:o,value:l}})),r}}},{key:"_forEachObjectProperty",value:function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(Number(n),t[n])}},{key:"_lastKeyFramePairContainsCurrentKeyFrame",value:function(t,e,n){return t<=n&&e>=n}},{key:"_getRelativeDistanceInRange",value:function(t,e,n){var r=(n-t)/(e-t);return isNaN(r)&&(r=0),r===-1/0&&(r=0),r===1/0&&(r=0),r}}]),t}(),k={0:0,80:120,100:100},S=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;f(this,t),this.alive=r,this.nextAliveState=void 0,this.index=new m(e,n),this.animation=new w(k,750)}return C(t,[{key:"nextCellState",value:function(t){this.alive?this.nextAliveState=2===t||3===t?1:0:this.nextAliveState=3===t?1:0}},{key:"applyNextState",value:function(){void 0!==this.nextAliveState&&(this.alive=this.nextAliveState,this.nextAliveState=void 0)}},{key:"toggle",value:function(t){0===this.alive&&t&&(this.animation=new w(k)),this.alive=t?1:0}},{key:"draw",value:function(t,e,n,r){var o=(e+n)*this.index.x,l=(e+n)*this.index.y,c=new m(e,e),d=new m(o,l),h=this.alive?"#bababa":"#1b331d";this.animation&&(c=this.animation.calculateSize(r,c),d=d.add((e-c.x)/2),this.animation.done&&(this.animation=void 0)),this._drawRect(t,d,c,5,h)}},{key:"_drawRect",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=arguments.length>4?arguments[4]:void 0;t.beginPath(),t.moveTo(e.x+r,e.y),t.lineTo(e.x+n.x-r,e.y),t.quadraticCurveTo(e.x+n.x,e.y,e.x+n.x,e.y+r),t.lineTo(e.x+n.x,e.y+n.y-r),t.quadraticCurveTo(e.x+n.x,e.y+n.y,e.x+n.x-r,e.y+n.y),t.lineTo(e.x+r,e.y+n.y),t.quadraticCurveTo(e.x,e.y+n.y,e.x,e.y+n.y-r),t.lineTo(e.x,e.y+r),t.quadraticCurveTo(e.x,e.y,e.x+r,e.y),t.closePath(),t.fillStyle=o,t.fill()}}]),t}(),E=function(){function t(e){f(this,t),this.state=e}return C(t,[{key:"findCellFromCoordinates",value:function(t,e){var n=this.calculateClickedCellIn1D(t.x,e),r=this.calculateClickedCellIn1D(t.y,e);return null!==n&&null!==r?this.state[r][n]:null}},{key:"calculateClickedCellIn1D",value:function(t,e){return t%(e.size+e.padding)<e.size+.3*e.padding?Math.floor(t/(e.size+e.padding)):null}},{key:"toggleCell",value:function(e,n){return this.state[e.y][e.x].toggle(n),new t(this.state)}},{key:"calculateNextGrid",value:function(){for(var e=0;e<this.state.length;e++)for(var n=0;n<this.state[e].length;n++){var r=this._countAliveNeighbours({rowIndex:e,columnIndex:n});this.state[e][n].nextCellState(r)}for(var o=0;o<this.state.length;o++)for(var l=0;l<this.state[o].length;l++)this.state[o][l].applyNextState();return new t(this.state)}},{key:"_countAliveNeighbours",value:function(t){for(var e=0,n=-1;n<=1;n++)for(var r=-1;r<=1;r++){var o=t.rowIndex+n,l=t.columnIndex+r;!this._indexInGridBounds({rowIndex:o,columnIndex:l})||0===r&&0===n||1===this.state[o][l].alive&&e++}return e}},{key:"_indexInGridBounds",value:function(t){return t.rowIndex>=0&&t.rowIndex<this.state.length&&t.columnIndex>=0&&t.columnIndex<this.state[0].length}},{key:"adjustGridToNewSize",value:function(e){for(var n=this,r=this.state.length,o=this.state[0].length,l=function(r){n.state[r]=t.truncateOrFillWith(e.columnCount,o,n.state[r],(function(t){return new S(t,r)}))},c=0;c<r;c++)l(c);return this.state=t.truncateOrFillWith(e.rowCount,r,this.state,(function(n){return t.generateEmptyColumn(n,e.columnCount)})),new t(this.state)}}],[{key:"generateNewRandomState",value:function(e){for(var n=[],r=0;r<e.rowCount;r++){n[r]=[];for(var o=0;o<e.columnCount;o++)n[r].push(new S(o,r,Math.random()>.7?1:0))}return new t(n)}},{key:"generateEmptyState",value:function(e){for(var n=[],r=0;r<e.rowCount;r++)n[r]=this.generateEmptyColumn(r,e.columnCount);return new t(n)}},{key:"generateEmptyColumn",value:function(t,e){for(var n=[],r=0;r<e;r++)n.push(new S(r,t));return n}},{key:"truncateOrFillWith",value:function(t,e,n,r){if(t<e)n=n.splice(0,t);else for(var i=e;i<t;i++)n.push(r(i));return n}}]),t}(),P=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.x=e,this.y=n}return C(t,[{key:"add",value:function(e){return new t(this.x+e,this.y+e)}},{key:"mul",value:function(e){return new t(this.x*e,this.y*e)}}]),t}(),N=function(){function t(canvas,e){f(this,t),this.canvas=canvas,this.onClickNotifier=e,this.canvas.addEventListener("mousemove",this.onMouseMove.bind(this)),this.canvas.addEventListener("mousedown",this.onClickedOrMouseDrag.bind(this)),this.canvas.addEventListener("mouseup",this.onMouseUp.bind(this))}return C(t,[{key:"onMouseMove",value:function(t){1===t.buttons&&this.onClickedOrMouseDrag(t)}},{key:"onClickedOrMouseDrag",value:function(t){this.onClickNotifier(this.calculatePosition(this.canvas,t),!0)}},{key:"onMouseUp",value:function(t){this.onClickNotifier(this.calculatePosition(this.canvas,t),!1)}},{key:"calculatePosition",value:function(canvas,t){var rect=canvas.getBoundingClientRect();return new P(t.clientX-rect.left,t.clientY-rect.top)}}]),t}();function I(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var M={props:{gridConfig:{size:{h:{type:Number},w:{type:Number}},cellCount:{rowCount:{type:Number},columnCount:{type:Number}}},gridState:{type:void 0}},data:function(){return{ctx:void 0,lastFrameTime:0,clickHandler:void 0}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(e){Object(h.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(r.b)({gridMode:"gridMode/get"}),{isInEditMode:function(){return"EDIT"===this.gridMode}}),mounted:function(){var t=this;this.setupCanvas((function(){t.drawCycle()})),this.clickHandler=new N(this.$refs.canvas,this.handleClick.bind(this))},methods:{setupCanvas:function(t){var e=this.$refs.canvas.getContext("2d");e.imageSmoothingEnabled=!1,this.ctx=e,t()},drawCycle:function(time){var t=time-this.lastFrameTime;this.lastFrameTime=time,this.clearCanvas(this.ctx),this.drawCanvas(this.ctx,t),requestAnimationFrame(this.drawCycle.bind(this))},drawCanvas:function(t,e){for(var i=0;i<this.gridConfig.cellCount.rowCount;i++)for(var n=0;n<this.gridConfig.cellCount.columnCount;n++)this.gridState[i][n].draw(t,this.gridConfig.cellSize,this.gridConfig.cellPadding,e)},clearCanvas:function(t){t.clearRect(0,0,this.gridConfig.size.w,this.gridConfig.size.h)},handleClick:function(t,e){var n=t.x,r=t.y;!this.isInEditMode&&e||this.$emit("click",{x:n,y:r},e)}}},_=Object(l.a)(M,(function(){var t=this.$createElement;return(this._self._c||t)("canvas",{ref:"canvas",class:{"cursor-pointer":this.isInEditMode},attrs:{height:this.gridConfig.size.h,width:this.gridConfig.size.w}})}),[],!1,null,null,null).exports,O=function(){function t(e,n){f(this,t),this.firstClickedCellState=void 0,this.toggleCell=n,this.returnCellFromCoordinates=e,this.onClick=this.onClick.bind(this)}return C(t,[{key:"onClick",value:function(t,e){if(e){var n=this.returnCellFromCoordinates(new P(t.x,t.y));if(!n)return;void 0===this.firstClickedCellState&&(this.firstClickedCellState=n.alive),this.toggleCell(n.index,!this.firstClickedCellState)}else this.firstClickedCellState=void 0}}]),t}(),A={components:{Canvas:_},data:function(){return{gridConfig:{speed:150,cellSize:14,cellPadding:7,cellCount:{rowCount:30,columnCount:60},size:{h:623,w:1253}},gridState:E.generateEmptyState({rowCount:30,columnCount:60}),gridClickHandler:new O(this.returnCellFromCoordinates,this.toggleCell)}},computed:Object(r.b)({gridMode:"gridMode/get"}),mounted:function(){this.handleResize(),window.addEventListener("resize",this.handleResize),this.$bus.$on("gridEvent",this.handleGridEvents)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{calculateNextState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"PLAY"===this.gridMode&&((new Date).getTime()>=t&&(t=(new Date).getTime()+this.gridConfig.speed,this.gridState.calculateNextGrid()),requestAnimationFrame(this.calculateNextState.bind(this,t)))},handleGridEvents:function(t){switch(t){case"PLAY":this.calculateNextState();break;case"RANDOM":this.gridState=E.generateNewRandomState(this.gridConfig.cellCount);break;case"CLEAR":this.gridState=E.generateEmptyState(this.gridConfig.cellCount)}},returnCellFromCoordinates:function(t){return this.gridState.findCellFromCoordinates({x:t.x,y:t.y},{size:this.gridConfig.cellSize,padding:this.gridConfig.cellPadding})},toggleCell:function(){var t;(t=this.gridState).toggleCell.apply(t,arguments)},handleResize:function(){var t=this.$refs.gridWrapper;t&&(this.gridConfig.cellCount=this.calculateCellCountFromPixelSize(this.gridConfig.cellSize,this.gridConfig.cellPadding,{height:t.clientHeight,width:t.clientWidth}),this.gridConfig.size=this.calculatePixelSizeFromCellCount(this.gridConfig.cellSize,this.gridConfig.cellPadding,this.gridConfig.cellCount),this.gridState=this.gridState.adjustGridToNewSize(this.gridConfig.cellCount))},calculateCellCountFromPixelSize:function(t,e,n){return{rowCount:y(t,e,n.height),columnCount:y(t,e,n.width)}},calculatePixelSizeFromCellCount:function(t,e,n){return{h:x(t,e,n.rowCount),w:x(t,e,n.columnCount)}}}},F={components:{NavBar:d,Grid:Object(l.a)(A,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg-darkgreen flex-grow flex-shrink overflow-hidden p-2"},[e("div",{ref:"gridWrapper",staticClass:"h-full flex justify-center content-center",attrs:{id:"GridWrapper"}},[e("Canvas",{attrs:{gridConfig:this.gridConfig,gridState:this.gridState.state},on:{click:this.gridClickHandler.onClick}})],1)])}),[],!1,null,null,null).exports}},T=(n(158),Object(l.a)(F,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app flex flex-col mx-0"},[e("nav-bar"),this._v(" "),e("grid")],1)}),[],!1,null,null,null));e.default=T.exports}}]);