(this.webpackJsonpgame_of_life=this.webpackJsonpgame_of_life||[]).push([[0],{10:function(e,t,n){e.exports=n(16)},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(8),o=n.n(r),s=(n(15),n(1)),l=n(2),c=n(4),u=n(3),h=n(5),d=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){this.shouldBeDisabled(e)||this.props.actionCallBack(e)}},{key:"shouldBeDisabled",value:function(e){return"PLAY"===this.props.gridControlState&&"PAUSE"!==e}},{key:"classesIf",value:function(e,t){return e?t:""}},{key:"render",value:function(){var e="h-full mx-1 px-1 bg-transparent text-white font-bold border border-transparent rounded appearance-none focus:outline-none ";return a.a.createElement("div",{className:"w-full h-12 flex-shrink-0 px-6 flex flex-wrap items-center justify-between bg-black"},a.a.createElement("div",null,a.a.createElement("span",{className:"text-white font-extrabold text-3xl"},"Game of Life")),a.a.createElement("div",{id:"controls",className:"h-full my-auto py-1 text-xl"},"PLAY"===this.props.gridControlState?a.a.createElement("button",{className:e,onClick:this.handleClick.bind(this,"PAUSE")},"Pause"):a.a.createElement("button",{className:e,onClick:this.handleClick.bind(this,"PLAY")},"Play"),a.a.createElement("button",{className:e+" active:underline"+this.classesIf(this.shouldBeDisabled("RAND")," opacity-50 cursor-not-allowed"),onClick:this.handleClick.bind(this,"RAND")},"Randomize"),a.a.createElement("button",{className:e+" active:underline"+this.classesIf("EDIT"===this.props.gridControlState," underline")+this.classesIf(this.shouldBeDisabled("EDIT")," opacity-50 cursor-not-allowed"),onClick:this.handleClick.bind(this,"EDIT")},"Edit"),a.a.createElement("button",{className:e+" active:underline"+this.classesIf(this.shouldBeDisabled("CLEAR")," opacity-50 cursor-not-allowed"),onClick:this.handleClick.bind(this,"CLEAR")},"Clear")))}}]),t}(a.a.Component),p=n(9),f=n(6);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={animationRunning:!1},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onHoverOrHover",value:function(e){this.state.animationRunning||1!==e.buttons||this.props.onClick(e)}},{key:"setAnimationStatus",value:function(e){this.setState({animationRunning:e})}},{key:"render",value:function(){return a.a.createElement("div",{onMouseDown:this.onHoverOrHover.bind(this),onMouseOver:this.onHoverOrHover.bind(this),onAnimationStart:this.setAnimationStatus.bind(this,!0),onAnimationEnd:this.setAnimationStatus.bind(this,!1),className:(this.props.alive?"bg-grey":"bg-green")+" cell flex-1 inline-block rounded "+this.props.className,style:m({},{transition:"background-color 0.1s"},{},this.props.style)})}}]),t}(a.a.Component);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).validateProps(e),n.state={},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"validateProps",value:function(e){e.gridState.length!==e.size.h&&console.error("Invalid Props: The GridState Row Count doesn't match with the size.h "),e.gridState[0].length!==e.size.w&&console.error("Invalid Props: The GridState Column Count doesn't match with the size.w ")}},{key:"createGrid",value:function(){for(var e=this,t=[],n=function(n){for(var i=[],r=function(t){var r,o,s,l={};if(e.props.animation)if("loadingIn"===e.props.animation){var c=(r=n+t,o={min:0,max:e.props.size.h+e.props.size.w},s={min:0,max:2},(r-o.min)*(s.max-s.min)/(o.max-o.min)+s.min);l.transition="background-color 1s ease "+c+"s"}else"poppingIn"===e.props.animation&&e.props.gridState[n][t]&&(l.animation="popout 0.5s ease");i.push(a.a.createElement(g,{key:n-t,alive:e.props.gridState[n][t],style:y({margin:"0 3px"},l),onClick:function(i){e.props.handleCellClick(i,n,t)}}))},o=0;o<e.props.size.w;o++)r(o);t.push(a.a.createElement("div",{key:n,className:"row flex flex-1",style:{padding:"3px 0"}},i))},i=0;i<this.props.size.h;i++)n(i);return t}},{key:"render",value:function(){return a.a.createElement("div",{className:"flex flex-col",style:{width:this.props.size.w*this.props.cellSize,height:this.props.size.h*this.props.cellSize},onDragStart:function(e){e.preventDefault()}},this.createGrid())}}]),t}(a.a.Component),O=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={play:!1,edit:!1,cellSize:20,size:{h:30,w:60},gridState:n.generateEmptyState(30,60),animation:void 0},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"updateGridSize",value:function(){var e=document.getElementById("GridWrapper");if(e){var t=Math.floor(e.clientHeight/this.state.cellSize),n=Math.floor(e.clientWidth/this.state.cellSize);this.setState({size:{h:t,w:n},gridState:this.adjustGridToNewSize(this.state.gridState,t,n)})}}},{key:"adjustGridToNewSize",value:function(e,t,n){for(var i=e.length,a=e[0].length,r=0;r<i;r++)e[r]=this.truncateOrFillWith(n,a,e[r],0);return e=this.truncateOrFillWith(t,i,e,this.generateEmptyColumn(n))}},{key:"truncateOrFillWith",value:function(e,t,n,i){if(e<t)n=n.splice(0,e);else for(var a=t;a<e;a++)n.push(i);return n}},{key:"componentDidMount",value:function(){this.updateGridSize(),window.addEventListener("resize",this.updateGridSize.bind(this))}},{key:"handleControlEvent",value:function(e,t){var n=this;switch(e){case"PLAY":return void(this.state.play||(this.setState({play:!0,animation:void 0,edit:!1},(function(){n.handleNextState()})),t("PLAY")));case"PAUSE":return this.setState({play:!1}),void t("PAUSE");case"RAND":return void this.setState({gridState:this.generateNewRandomState(),animation:"loadingIn"});case"EDIT":return void(this.state.edit?(this.setState({edit:!1,animation:void 0}),t("PAUSE")):(this.setState({edit:!0,animation:"poppingIn"}),t("EDIT")));case"CLEAR":return void this.setState({gridState:this.generateEmptyState(),animation:void 0});default:return}}},{key:"handleNextState",value:function(){var e=this;this.state.play&&(this.setState({gridState:this.calculateNextGrid(this.state.gridState)}),setTimeout((function(){e.handleNextState()}),150))}},{key:"calculateNextGrid",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.size.h,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.size.w,i=[],a=0;a<t;a++){i[a]=[];for(var r=0;r<n;r++){var o=this.countAliveNeighbours(e,{rowIndex:a,columnIndex:r}),s=e[a][r],l=this.calculateCellState(o,s);i[a].push(l)}}return i}},{key:"countAliveNeighbours",value:function(e,t){for(var n=0,i=-1;i<=1;i++)for(var a=-1;a<=1;a++){var r=t.rowIndex+i,o=t.columnIndex+a;!this.indexInGridBounds(e,{rowIndex:r,columnIndex:o})||0===a&&0===i||(n+=e[r][o]?1:0)}return n}},{key:"indexInGridBounds",value:function(e,t){return t.rowIndex>=0&&t.rowIndex<e.length&&t.columnIndex>=0&&t.columnIndex<e[0].length}},{key:"calculateCellState",value:function(e,t){return t?2===e||3===e?1:0:3===e?1:0}},{key:"generateNewRandomState",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.size.h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.size.w,n=[],i=0;i<e;i++){n[i]=[];for(var a=0;a<t;a++)n[i].push(Math.random()>.7?1:0)}return n}},{key:"generateEmptyState",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.size.h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.size.w,n=[],i=0;i<e;i++)n[i]=this.generateEmptyColumn(t);return n}},{key:"generateEmptyColumn",value:function(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}},{key:"handleCellClick",value:function(e,t,n){this.state.edit&&this.toggleCellStateAt(t,n)}},{key:"toggleCellStateAt",value:function(e,t){var n=Object(p.a)(this.state.gridState);n[e][t]=1===n[e][t]?0:1,this.setState({gridState:n})}},{key:"render",value:function(){return a.a.createElement("div",{className:"bg-darkgreen flex-grow flex-shrink overflow-hidden"},a.a.createElement("div",{className:"h-full p-2"},a.a.createElement("div",{id:"GridWrapper",className:"h-full flex justify-center content-center"},a.a.createElement(S,{gridState:this.state.gridState,cellSize:this.state.cellSize,size:this.state.size,animation:this.state.animation,handleCellClick:this.handleCellClick.bind(this)}))))}}]),t}(a.a.Component),k=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).gridRef=Object(i.createRef)(),n.state={gridControlState:"PAUSE"},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"messageToGrid",value:function(e){var t=this;this.gridRef.current&&this.gridRef.current.handleControlEvent(e,(function(e){"PLAY"!==e&&"PAUSE"!==e&&"EDIT"!==e||t.setState({gridControlState:e})}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"App flex flex-col"},a.a.createElement(d,{gridControlState:this.state.gridControlState,actionCallBack:this.messageToGrid.bind(this)}),a.a.createElement(O,{ref:this.gridRef}))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.616a2d59.chunk.js.map